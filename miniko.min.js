(function(u){function q(){}function l(a){return"[object Object]"==Object.prototype.toString.call(a)}function v(a){return"[object Array]"==Object.prototype.toString.call(a)}function m(a){return void 0!==a&&null!==a}function w(a,c){if(l(c)){l(a)||(a={});for(var b in c)c.hasOwnProperty(b)&&(a[b]=w(a[b],c[b]))}else a=c;return a}function g(a,c){(!m(a)?[]:a instanceof Array?a:[a]).forEach(c);return a}function r(a){var c;if(!a||"object"!==typeof a)c=a;else if(v(a))c=[],a.forEach(function(a,b){c[b]=r(a)});
else{c={};for(var b in a)a.hasOwnProperty(b)&&(c[b]=r(a[b]))}return c}function x(a,c){var b=new window.XMLHttpRequest,d,e,f,h;for(h in s)a[h]=a[h]||s[h];if(a.data){if((d=/POST|PUT/i.test(a.type))&&"string"==typeof a.data)f=a.data;else if(d&&"[object FormData]"==a.data.toString())f=a.data;else if(d&&/json/.test(a.contenttype))f=JSON.stringify(a.data);else{f=[];for(h in a.data)f.push(encodeURIComponent(h)+"="+encodeURIComponent(a.data[h]));f=f.join("&")}d||(a.url+=-1==a.url.indexOf("?")?"?"+f:"&"+f,
f="")}b.onreadystatechange=function(){if(4==b.readyState){clearTimeout(e);f=b.responseText;if(/json/.test(a.datatype))try{f=JSON.parse(b.responseText)}catch(c){console.log("ajax json parse error: "+c.message,b)}a.done(a["2"==(b.status+"")[0]?"ok":"error"](f,b))}};b.open(a.type,a.url,!0);a.contenttype&&(a.headers["Content-Type"]=a.contenttype);for(h in a.headers)b.setRequestHeader(h,a.headers[h]);a.timeout&&(e=setTimeout(function(){b.abort();a.done(a.error("timeout",b))},1E3*a.timeout));if(a.binary){h=
f.length;var g=new Uint8Array(h);for(d=0;d<h;d++)g[d]=f.charCodeAt(d)&255;f=g}b.send(f);return b}function k(a,c){var b,d,e=typeof a;if(m(a))if("function"==e)/complete|loaded|interactive/.test(n.readyState)?a():n.addEventListener("DOMContentLoaded",a,!1);else if(l(a))b=x(a);else if("string"==e?/^#[^ ,\.\>\<]*$/.test(a)?b=n.getElementById(a.substr(1)):/^<.+>$/.test(a)?((d=n.createElement("div")).innerHTML=a,b=[].slice.call(d.childNodes),b=b.length?1<b.length?b:b[0]:void 0):b=[].slice.call(n.querySelectorAll(a),
0):b=a,b&&m(c)){e=typeof c;"string"==e&&(c={content:c});if(l(c))for(d in c)p[d]?b=p[d](b,c[d]):"function"==typeof c[d]&&("-"==d[0]?p.off(b,d.substr(1),c[d]):p.on(b,d,c[d]));"function"==e&&g(b,c)}return b}var n=u.document,t=/\s+/,s={type:"GET",url:"",data:!1,headers:{},contenttype:"application/x-www-form-urlencoded",datatype:"application/json",error:q,ok:q,done:q,timeout:!1},p={content:function(a,c){return g(a,"string"==typeof c?function(a){a.innerHTML=c}:function(a){a.innerHTML="";g(c,function(c){a.appendChild(c)})})},
append:function(a,c){a instanceof Array&&(a=a.shift());if(m(a))if("string"==typeof c)for(var b="TBODY"==a.tagName?k("<table>",c).children[0].childNodes:k("<div>",c).childNodes;b.length;)a.appendChild(b[0]);else g(c,function(b){a.appendChild(b)});return a},remove:function(a,c){return g(a,"function"==typeof c?function(a){c(a)&&a.remove()}:c?function(a){a.remove()}:q)},css:function(a,c){var b,d,e,f=/([\+\-\*])([^\+\-\*\s]+)/g;if(l(c))g(a,function(a){for(b in c)a.style[b]=c[b]});else if(/^[\+\-\*]/.test(c))for(;null!==
(b=f.exec(c));)d=b[1],e=b[2],g(a,function(a){var b=a.className.split(t).filter(function(a){return a});"-"!=d&&-1==b.indexOf(e)?b.push(e):"+"!=d&&(b=b.filter(function(a){return a!=e}));a.className=b.join(" ")});else g(a,function(a){a.className=c});return a},has:function(a,c){var b=0,d=c.split(t);g(a,function(a){b+=a.className.split(t).filter(function(a){return-1!=d.indexOf(a)}).length});return b},on:function(a,c,b){return g(a,function(a){if(l(c))for(var e in c)a.addEventListener(e,c[e]);else a.addEventListener(c,
b)})},off:function(a,c,b){return g(a,function(a){if(l(c))for(var e in c)a.removeEventListener(e,c[e]);else a.removeEventListener(c,b)})}};k.fn=p;k.debounce=function(a,c){var b;return function(){var d=this,e=arguments;clearTimeout(b);b=setTimeout(function(){b=null;a.apply(d,e)},c||200)}};k.isObject=l;k.isArray=v;k.isDefined=m;k.forAll=g;k.ajax=s;k.clone=r;k.merge=w;u._=k})(window);
